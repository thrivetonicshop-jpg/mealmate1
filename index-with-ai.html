curl -s https://www.bestmealmate.com 2>&1 | grep -A5 "openCamera\|uploadPhoto\|photoInput" | head -30
Output

            <div class="scan-banner"><h3>ğŸ“¸ What's in your fridge?</h3><p>Real AI identifies your ingredients</p><div class="scan-btns"><button class="scan-btn" onclick="openCamera('fridge')">ğŸ“· Scan Fridge</button><button class="scan-btn secondary" onclick="openCamera('pantry')">ğŸ—„ï¸ Pantry</button></div></div>
            <h4 style="margin-bottom:0.6rem">ğŸ‘¤ My Nutrition Today</h4>
            <div class="nutrition-grid"><div class="nutrition-card cal"><div class="nutrition-label">Calories</div><div class="nutrition-value" id="calVal">0</div><div class="nutrition-goal">of <span id="calGoal">2,000</span></div><div class="nutrition-bar"><div class="nutrition-fill cal" id="calBar" style="width:0%"></div></div></div><div class="nutrition-card carbs"><div class="nutrition-label">Carbs</div><div class="nutrition-value" id="carbVal">0g</div><div class="nutrition-goal">of <span id="carbGoal">150g</span></div><div class="nutrition-bar"><div class="nutrition-fill carbs" id="carbBar" style="width:0%"></div></div></div><div class="nutrition-card protein"><div class="nutrition-label">Protein</div><div class="nutrition-value" id="proVal">0g</div><div class="nutrition-goal">of <span id="proGoal">100g</span></div><div class="nutrition-bar"><div class="nutrition-fill protein" id="proBar" style="width:0%"></div></div></div><div class="nutrition-card fat"><div class="nutrition-label">Fat</div><div class="nutrition-value" id="fatVal">0g</div><div class="nutrition-goal">of <span id="fatGoal">65g</span></div><div class="nutrition-bar"><div class="nutrition-fill fat" id="fatBar" style="width:0%"></div></div></div></div>
            <div class="card"><div class="card-header"><h3>ğŸ½ï¸ Today's Meals</h3><button class="btn btn-sm btn-secondary" onclick="logMeal()">+ Add</button></div><div class="card-body" id="todayMeals"><p style="text-align:center;color:var(--text-muted);padding:1rem">No meals yet. Scan to get started!</p></div></div>
        </div></div>
        <div class="page-section" id="scanPage"><div class="main-content"><h2 style="margin-bottom:1rem">ğŸ“¸ AI Scan</h2><div class="scan-banner"><h3>Quick Scan</h3><p>Point camera at your food</p><div class="scan-btns"><button class="scan-btn" onclick="openCamera('fridge')">ğŸ§Š Fridge</button><button class="scan-btn secondary" onclick="openCamera('pantry')">ğŸ—„ï¸ Pantry</button><button class="scan-btn secondary" onclick="openCamera('item')">ğŸ Item</button></div></div><div class="card hidden" id="scanResults"><div class="card-header"><span>âœ… Detected <span class="ai-badge">AI</span></span><span id="itemCount">0 items</span></div><div class="card-body"><div class="detected-items" id="detectedItems"></div><h4 style="margin-bottom:0.6rem">ğŸ³ Suggested Meals</h4><div id="suggestedMeals"></div></div></div></div></div>
        <div class="page-section" id="pantryPage"><div class="main-content"><h2 style="margin-bottom:1rem">ğŸ—„ï¸ Pantry</h2><div id="pantryContent"><p style="text-align:center;color:var(--text-muted);padding:2rem">ğŸ“· Scan your kitchen to add items!</p></div></div></div>
        <div class="page-section" id="groceryPage"><div class="main-content"><h2 style="margin-bottom:1rem">ğŸ›’ Grocery List</h2><div class="card"><div class="card-header"><h3>Shopping List</h3><button class="btn btn-accent btn-sm" onclick="orderInstacart()">ğŸ›’ Instacart</button></div><div class="card-body" id="groceryList"><p style="text-align:center;color:var(--text-muted)">All stocked! ğŸ‰</p></div></div></div></div>
        <div class="page-section" id="pricingPage"><div class="pricing-section"><div class="pricing-header"><h2>Choose Your Plan</h2><p style="color:var(--text-muted)">Unlock the full power of AI meal planning</p></div><div class="pricing-grid"><div class="pricing-card"><div class="pricing-name">Free</div><div class="pricing-price">$0<span>/month</span></div><div class="pricing-desc">Get started with basic features</div><ul class="pricing-features"><li>3 AI scans per day</li><li>Basic meal suggestions</li><li>Nutrition tracking</li><li>Grocery list</li></ul><button class="btn btn-secondary pricing-btn" disabled>Current Plan</button></div><div class="pricing-card popular"><div class="pricing-name">Pro</div><div class="pricing-price">$9.99<span>/month</span></div><div class="pricing-desc">For serious meal planners</div><ul class="pricing-features"><li>Unlimited AI scans</li><li>Advanced meal planning</li><li>Detailed nutrition insights</li><li>Priority support</li><li>No ads</li></ul><button class="btn btn-pro pricing-btn" id="proPlanBtn" onclick="subscribe('pro')">Upgrade to Pro</button></div><div class="pricing-card"><div class="pricing-name">Family</div><div class="pricing-price">$14.99<span>/month</span></div><div class="pricing-desc">For the whole household</div><ul class="pricing-features"><li>Everything in Pro</li><li>Up to 5 family members</li><li>Family meal planning</li><li>Shared grocery lists</li><li>Kids-friendly recipes</li></ul><button class="btn btn-primary pricing-btn" id="familyPlanBtn" onclick="subscribe('family')">Get Family</button></div></div></div></div>
        <div class="page-section" id="settingsPage"><div class="main-content"><h2 style="margin-bottom:1rem">âš™ï¸ Settings</h2><div class="card"><div class="card-body"><div style="display:flex;align-items:center;gap:1rem;margin-bottom:1.5rem"><div class="user-avatar" style="width:56px;height:56px;font-size:1.25rem" id="settingsAvatar">U</div><div><div style="font-weight:600" id="settingsName">User</div><div style="font-size:0.85rem;color:var(--text-muted)" id="settingsEmail">user@example.com</div><div style="margin-top:0.25rem"><span class="pro-badge" id="planBadge">FREE</span></div></div></div><button class="btn btn-pro" style="width:100%;margin-bottom:0.75rem" onclick="showPage('pricing')">âš¡ Upgrade Plan</button><button class="btn btn-secondary" style="width:100%;margin-bottom:0.75rem" onclick="manageSubscription()">Manage Subscription</button><button class="btn btn-primary" style="width:100%;background:var(--error)" onclick="logout()">Sign Out</button></div></div></div></div>
    </div>
    <div class="modal" id="cameraModal"><div class="modal-header"><span style="color:white;font-weight:600" id="cameraTitle">Scan</span><button class="modal-close" onclick="closeCamera()">âœ•</button></div><div class="camera-view"><video id="videoFeed" autoplay playsinline></video><img id="capturedImg" style="display:none"><div class="camera-hint" id="cameraHint">Position items in frame</div><div class="analyzing hidden" id="analyzing"><div class="spinner"></div><p style="margin-top:1rem">ğŸ¤– AI analyzing...</p></div></div><div class="camera-controls" id="camControls"><button class="cam-btn" onclick="uploadPhoto()">ğŸ–¼ï¸</button><button class="capture-btn" onclick="capture()"></button><button class="cam-btn" onclick="switchCam()">ğŸ”„</button></div><div class="camera-controls hidden" id="retakeControls"><button class="btn btn-secondary" onclick="retake()">Retake</button><button class="btn btn-pro" onclick="analyzeWithAI()">ğŸ¤– Analyze</button></div><input type="file" id="photoInput" accept="image/*" style="display:none" onchange="handleUpload(event)"></div>
    <div class="modal recipe-modal" id="recipeModal"><div class="modal-content"><div class="recipe-header"><h2 id="recipeTitle">Recipe</h2><button class="modal-close" onclick="closeRecipe()" style="background:var(--bg-secondary);color:var(--text)">âœ•</button></div><div class="recipe-body"><div class="recipe-macros" id="recipeMacros"></div><div class="recipe-section"><h4>ğŸ“ Ingredients</h4><ul id="recipeIngredients"></ul></div><div class="recipe-section"><h4>ğŸ‘¨â€ğŸ³ Instructions</h4><ol id="recipeSteps"></ol></div><button class="btn btn-primary" style="width:100%" onclick="addToMealPlan()">Add to Plan</button></div></div></div>
    <div class="modal upgrade-modal" id="upgradeModal"><div class="modal-content"><h2>âš¡ Upgrade to Pro</h2><p>You've used all your free scans today</p><ul class="upgrade-features"><li>Unlimited AI scans</li><li>Advanced meal suggestions</li><li>Priority support</li></ul><button class="btn btn-pro" style="width:100%;margin-bottom:0.5rem" id="upgradeBtn" onclick="subscribe('pro')">Upgrade for $9.99/mo</button><button class="btn btn-secondary" style="width:100%" onclick="closeUpgradeModal()">Maybe Later</button></div></div>
    <div class="mobile-nav"><a href="#" class="mobile-nav-item active" onclick="showPage('dashboard')" data-page="dashboard"><span>ğŸ </span><span>Home</span></a><a href="#" class="mobile-nav-item" onclick="showPage('scan')" data-page="scan"><span>ğŸ“¸</span><span>Scan</span></a><a href="#" class="mobile-nav-item" onclick="showPage('pantry')" data-page="pantry"><span>ğŸ—„ï¸</span><span>Pantry</span></a><a href="#" class="mobile-nav-item" onclick="showPage('grocery')" data-page="grocery"><span>ğŸ›’</span><span>Shop</span></a><a href="#" class="mobile-nav-item" onclick="showPage('settings')" data-page="settings"><span>âš™ï¸</span><span>Settings</span></a></div>
    <div class="toast-container" id="toasts"></div>
    <script>
--
        function openCamera(type){if(!canScan()){showUpgradeModal();return}scanType=type;document.getElementById('cameraTitle').textContent='Scan '+type;document.getElementById('cameraModal').classList.add('active');startCamera()}
        async function startCamera(){try{stream=await navigator.mediaDevices.getUserMedia({video:{facingMode:'environment'}});document.getElementById('videoFeed').srcObject=stream;document.getElementById('videoFeed').style.display='block';document.getElementById('capturedImg').style.display='none';document.getElementById('camControls').classList.remove('hidden');document.getElementById('retakeControls').classList.add('hidden');document.getElementById('analyzing').classList.add('hidden')}catch(e){toast('Camera access denied','error')}}
        function capture(){const v=document.getElementById('videoFeed'),c=document.createElement('canvas');c.width=v.videoWidth;c.height=v.videoHeight;c.getContext('2d').drawImage(v,0,0);document.getElementById('capturedImg').src=c.toDataURL('image/jpeg');document.getElementById('capturedImg').style.display='block';document.getElementById('videoFeed').style.display='none';document.getElementById('camControls').classList.add('hidden');document.getElementById('retakeControls').classList.remove('hidden');if(stream)stream.getTracks().forEach(t=>t.stop())}
        function retake(){startCamera()}function uploadPhoto(){document.getElementById('photoInput').click()}
        function handleUpload(e){const f=e.target.files[0];if(f){const r=new FileReader();r.onload=x=>{document.getElementById('capturedImg').src=x.target.result;document.getElementById('capturedImg').style.display='block';document.getElementById('videoFeed').style.display='none';document.getElementById('camControls').classList.add('hidden');document.getElementById('retakeControls').classList.remove('hidden')};r.readAsDataURL(f)}}
        function switchCam(){toast('Switching...')}function closeCamera(){document.getElementById('cameraModal').classList.remove('active');if(stream){stream.getTracks().forEach(t=>t.stop());stream=null}}
        async function analyzeWithAI(){document.getElementById('retakeControls').classList.add('hidden');document.getElementById('analyzing').classList.remove('hidden');userData.scansToday++;await saveUserData();updateUsageUI();await new Promise(r=>setTimeout(r,2000));const sets={fridge:['chicken breast','eggs','milk','cheese','spinach','butter'],pantry:['rice','pasta','bread','olive oil','garlic','onion'],item:['apple','banana','avocado']};const items=sets[scanType]||sets.fridge;detectedItems=items.sort(()=>0.5-Math.random()).slice(0,Math.floor(Math.random()*3)+4);detectedItems.forEach(item=>{if(!userData.pantry.find(p=>p.name===item))userData.pantry.push({name:item,status:'good'})});saveUserData();closeCamera();showResults();toast('ğŸ¤– Found '+detectedItems.length+' items!','success')}
        function showResults(){showPage('scan');document.getElementById('scanResults').classList.remove('hidden');document.getElementById('itemCount').textContent=detectedItems.length+' items';document.getElementById('detectedItems').innerHTML=detectedItems.map(item=>{const f=foodDB[item]||{icon:'ğŸ½ï¸'};return '<div class="detected-item"><span>'+f.icon+' '+item+'</span><button class="remove" onclick="removeItem(\''+item+'\')">Ã—</button></div>'}).join('');generateSuggestions();renderPantry()}
        function removeItem(item){detectedItems=detectedItems.filter(i=>i!==item);document.getElementById('itemCount').textContent=detectedItems.length+' items';document.getElementById('detectedItems').innerHTML=detectedItems.map(item=>{const f=foodDB[item]||{icon:'ğŸ½ï¸'};return '<div class="detected-item"><span>'+f.icon+' '+item+'</span><button class="remove" onclick="removeItem(\''+item+'\')">Ã—</button></div>'}).join('');generateSuggestions()}
